import cheerio from "cheerio";
import axios from "axios";
const getFeedUrl = (tagId) => `https://archiveofourown.org/tags/${tagId}/feed.atom`;
export const getFeedPage = async ({ tagId }) => {
    return cheerio.load((await axios.get(getFeedUrl(tagId))).data);
};
export const getTagNameFromFeed = async ($feedPage) => {
    var _a;
    const feedTitle = $feedPage($feedPage("title")[0].children[0]).text();
    return ((_a = feedTitle.match(/AO3 works tagged '(.+)'/)) === null || _a === void 0 ? void 0 : _a[1]) || null;
};
